<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Send Mail - WanderScript</title>
    <link rel="stylesheet" href="/css/profile.css" />
    <link rel="stylesheet" href="/css/editProfile.css" />
    <style>
        .action-buttons .dashboard .icon {
            filter: none;
        }
    </style>
</head>

<body>
    <nav class="navbar">
        <a href="/WanderScript/homefeed"><img src="/assets/icons8-home-50.png" alt=""></a>
        <a href="/WanderScript/profile" class="username">@<%= user.username %></a>
    </nav>

    <div class="profile-wrapper">
        <div class="post-card">
            <h2 style="color:#00f0ff; font-size: 1.5rem;">Send a Mail</h2>

                    <form action="/WanderScript/user/<%= toUserID %>/mail" method="POST"
                        style="display: flex; flex-direction: column; gap: 1rem; margin-top: 1rem;">
                        <input type="text" name="from" value="<%= fromMail %>" readonly placeholder="From"
                            style="padding: 0.8rem; border-radius: 10px; border: 1px solid #888; background-color: #1c1c1c; color: #ccc;" />

                        <input type="text" name="to" value="<%= toMail %>" readonly placeholder="To"
                            style="padding: 0.8rem; border-radius: 10px; border: 1px solid #888; background-color: #1c1c1c; color: #ccc;" />

                        <input type="text" name="subject" placeholder="Enter subject" required
                            style="padding: 0.8rem; border-radius: 10px; border: 1px solid #888; background-color: #121212; color: white;" />

                        <textarea name="body" rows="6" required placeholder="Write your message here..."
                            style="padding: 0.8rem; border-radius: 10px; border: 1px solid #888; background-color: #121212; color: white;"></textarea>

                        <div class="action-buttons">
                            <button type="submit" class="action-btn dashboard">
                                <img src="/assets/icons8-mail-70.png" alt="mail" class="icon" />
                                <span>Send Mail</span>
                            </button>

                            <a href="/WanderScript/user/<%= toUserID %>" class="action-btn edit-profile">
                                <img src="/assets/icons8-back-64.png" alt="back" class="icon" />
                                <span>Back to @<%= otherUsername %>'s Profile</span>
                            </a>
                        </div>
                    </form>
        </div>
    </div>
    <% if (message) { %>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script>
            Swal.fire({
                icon: "<%= messageType || 'success' %>",
                title: "<%= messageType === 'success' ? 'Success' : 'Info' %>",
                text: "<%= message %>",
                confirmButtonColor: '#00a706',
            }).then(() => {
                window.location.href = "/WanderScript/user/<%= toUserID %>";
            });
        </script>
        <% } %>
</body>

</html>